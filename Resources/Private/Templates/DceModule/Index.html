{namespace core=TYPO3\CMS\Core\ViewHelpers}

<f:layout name="Backend" />
<f:section name="header">
	<f:render partial="Module/ModuleHeader" />
</f:section>
<f:section name="content">
	<f:alias map="{lll: 'LLL:EXT:dce/Resources/Private/Language/locallang_mod.xlf:'}">
		<div class="row space-bottom">
			<div class="col-lg-12">
				<div class="nav-group">
					<a href="{f:render(partial:'Module/NewDceLink') -> dce:format.tiny()}" class="btn btn-primary"><core:icon identifier="actions-plus-circle-alt" size="small" />  {f:translate(key:'{lll}createNewDce')}</a>
					<a href="{f:render(partial:'Module/ListViewLink') -> dce:format.tiny()}" class="btn btn-default"><core:icon identifier="actions-system-list-open" /> {f:translate(key:'{lll}goToListView')}</a>
					<f:link.action action="clearCaches" class="btn btn-default"><core:icon identifier="actions-system-cache-clear-impact-high" /> {f:translate(key:'{lll}clearCaches')}</f:link.action>
				</div>

				<div class="nav-group">
					<f:link.action action="hallOfFame" class="btn btn-default"><core:icon identifier="actions-trophy" size="small" /> {f:translate(key:'{lll}hallOfFame')}</f:link.action>
					<f:render partial="Module/Donate" arguments="{primary:1}" />
				</div>

				<div class="nav-group">
					<div class="dropdown btn-group">
						<button type="button" class="btn btn-default dropdown-toggle" id="dropdownMenuHelp" data-bs-toggle="dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="fa-solidlse">
							<core:icon identifier="actions-system-help-open" />
							{f:translate(key:'{lll}help')}
						</button>
						<ul class="dropdown-menu" aria-labelledby="dropdownMenuHelp">
							<li><a class="dropdown-item" target="_blank" href="https://docs.typo3.org/typo3cms/extensions/dce/">{f:translate(key:'{lll}help.manual')}</a></li>
							<li><a class="dropdown-item" target="_blank" href="https://github.com/a-r-m-i-n/dce/issues">{f:translate(key:'{lll}help.issues')}</a></li>
							<li class="dropdown-divider divider"></li>
							<li><a class="dropdown-item" target="_blank" href="https://www.facebook.com/TYPO3.DCE.Extension">{f:translate(key:'{lll}help.facebook')}</a></li>
							<li><a class="dropdown-item" target="_blank" href="https://github.com/a-r-m-i-n/dce">{f:translate(key:'{lll}help.github')}</a></li>
							<li class="dropdown-divider divider"></li>
							<li><a class="dropdown-item" target="_blank" href="https://v.ieweg.de">{f:translate(key:'{lll}help.authorWebsite')}</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<div class=" space-bottom">
			<div class="">
				<f:flashMessages />
				<table class="table table-striped">
					<thead>
						<tr>
							<th>DCEs</th>
							<th>Status</th>
							<th>Identifier</th>
							<th>UID</th>
							<th>{f:translate(key:'{lll}usage')}</th>
							<th>{f:translate(key:'{lll}dceStats')}</th>
							<th>{f:translate(key:'{lll}fieldStats')}</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<f:if condition="{dces -> f:count()} > 0">
							<f:then>
								<f:for each="{dces}" as="dce">
									<f:render partial="Module/DceListItem" arguments="{dce:dce}" />
								</f:for>
							</f:then>
							<f:else>
								<tr><td colspan="8"><em><f:translate key="{lll}noDcesFound" /></em></td></tr>
							</f:else>
						</f:if>
					</tbody>
				</table>
			</div>
		</div>
	</f:alias>
</f:section>
